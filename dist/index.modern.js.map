{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import {Transformer} from '@parcel/plugin';\n\nexport default new Transformer({\n  async transform({asset, options}) {\n    const gql = await options.packageManager.require(\n      'graphql-tag',\n      asset.filePath,\n      {autoinstall: options.autoinstall},\n    );\n    asset.type = 'js';\n    const code = await asset.getCode();\n    const schema = gql(code);\n    asset.setCode(\n      `module.exports = ${JSON.stringify(schema,null,2,)};`,\n    );\n    return [asset];\n  },\n});\n"],"names":["Transformer","transform","asset","options","gql","packageManager","require","filePath","autoinstall","type","code","getCode","schema","setCode","JSON","stringify"],"mappings":";;AAEA,YAAe,IAAIA,WAAJ,CAAgB;AAC7B,QAAMC,SAAN,CAAgB;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,GAAhB,EAAkC;AAChC,UAAMC,GAAG,GAAG,MAAMD,OAAO,CAACE,cAAR,CAAuBC,OAAvB,CAChB,aADgB,EAEhBJ,KAAK,CAACK,QAFU,EAGhB;AAACC,MAAAA,WAAW,EAAEL,OAAO,CAACK;AAAtB,KAHgB,CAAlB;AAKAN,IAAAA,KAAK,CAACO,IAAN,GAAa,IAAb;AACA,UAAMC,IAAI,GAAG,MAAMR,KAAK,CAACS,OAAN,EAAnB;AACA,UAAMC,MAAM,GAAGR,GAAG,CAACM,IAAD,CAAlB;AACAR,IAAAA,KAAK,CAACW,OAAN,CACG,oBAAmBC,IAAI,CAACC,SAAL,CAAeH,MAAf,EAAsB,IAAtB,EAA2B,CAA3B,CAA+B,GADrD;AAGA,WAAO,CAACV,KAAD,CAAP;AACD;;AAd4B,CAAhB,CAAf;;;;"}