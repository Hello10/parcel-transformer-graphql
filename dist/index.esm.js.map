{"version":3,"file":"index.esm.js","sources":["../src/index.js"],"sourcesContent":["import {Transformer} from '@parcel/plugin';\n\nexport default new Transformer({\n  async transform({asset, options}) {\n    const gql = await options.packageManager.require(\n      'graphql-tag',\n      asset.filePath,\n      {autoinstall: options.autoinstall},\n    );\n    asset.type = 'js';\n    const code = await asset.getCode();\n    const schema = gql(code);\n    asset.setCode(\n      `module.exports = ${JSON.stringify(schema,null,2,)};`,\n    );\n    return [asset];\n  },\n});\n"],"names":["Transformer","transform","asset","options","packageManager","require","filePath","autoinstall","gql","type","getCode","code","schema","setCode","JSON","stringify"],"mappings":";;AAEA,YAAe,IAAIA,WAAJ,CAAgB;AACvBC,EAAAA,SADuB,YACb;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,GADa;AAAA,QACK;AAAA,6BACdA,OAAO,CAACC,cAAR,CAAuBC,OAAvB,CAChB,aADgB,EAEhBH,KAAK,CAACI,QAFU,EAGhB;AAACC,QAAAA,WAAW,EAAEJ,OAAO,CAACI;AAAtB,OAHgB,CADc,iBAC1BC,GAD0B;AAMhCN,QAAAA,KAAK,CAACO,IAAN,GAAa,IAAb;AANgC,+BAObP,KAAK,CAACQ,OAAN,EAPa,iBAO1BC,IAP0B;AAQhC,gBAAMC,MAAM,GAAGJ,GAAG,CAACG,IAAD,CAAlB;AACAT,UAAAA,KAAK,CAACW,OAAN,CACG,oBAAmBC,IAAI,CAACC,SAAL,CAAeH,MAAf,EAAsB,IAAtB,EAA2B,CAA3B,CAA+B,GADrD;AAGA,iBAAO,CAACV,KAAD,CAAP;AAZgC;AAAA;AAajC,KAd4B;AAAA;AAAA;AAAA;AAAA,CAAhB,CAAf;;;;"}